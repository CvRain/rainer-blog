<div class="min-h-screen flex flex-col relative overflow-hidden bg-surface-50">
  <!-- 动态背景装饰 -->
  <div
    class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-purple-200/40 rounded-full blur-3xl animate-blob"
  ></div>
  <div
    class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-200/40 rounded-full blur-3xl animate-blob animation-delay-2000"
  ></div>
  <div
    class="absolute top-[20%] right-[30%] w-[20%] h-[20%] bg-pink-200/40 rounded-full blur-3xl animate-blob animation-delay-4000"
  ></div>

  <!-- Header -->
  <app-mini-header></app-mini-header>

  <main
    class="flex-grow flex items-center justify-center p-4 pt-10 relative z-10"
  >
    <div class="w-full max-w-[400px]">
      <!-- 自定义毛玻璃卡片 -->
      <div
        class="bg-white/70 backdrop-blur-xl border border-white/50 rounded-3xl shadow-xl p-8 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1"
      >
        <div class="text-center mb-8">
          <div
            class="inline-flex justify-center items-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 shadow-lg text-white mb-6 transform rotate-3 hover:rotate-6 transition-transform"
          >
            <i class="pi pi-bolt text-2xl"></i>
          </div>
          <h1 class="text-2xl font-bold text-surface-900 mb-2 tracking-tight">
            Welcome Back
          </h1>
          <p class="text-surface-500 text-sm">Sign in to manage your blog</p>
        </div>

        <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="space-y-5">
          <div>
            <label
              for="username"
              class="block text-xs font-bold text-surface-500 uppercase mb-1 ml-1"
              >Username</label
            >
            <input
              id="username"
              type="text"
              pInputText
              [(ngModel)]="username"
              name="username"
              required
              placeholder="Enter your username"
              class="w-full !rounded-xl !bg-surface-50 border-0 !ring-0 !shadow-none focus:!bg-white focus:!ring-2 focus:!ring-primary-200 transition-all p-3 text-sm"
            />
          </div>

          <div>
            <label
              for="password"
              class="block text-xs font-bold text-surface-500 uppercase mb-1 ml-1"
              >Password</label
            >
            <!-- PrimeNG Password 组件比较难完全自定义样式，用它的 styleClass 传递 -->
            <p-password
              id="password"
              [(ngModel)]="password"
              name="password"
              required
              [feedback]="false"
              [toggleMask]="true"
              styleClass="w-full"
              inputStyleClass="w-full !rounded-xl !bg-surface-50 border-0 !ring-0 !shadow-none focus:!bg-white focus:!ring-2 focus:!ring-primary-200 transition-all p-3 text-sm"
              placeholder="Enter your password"
            >
            </p-password>
          </div>

          <div class="flex justify-between items-center py-2">
            <div class="flex items-center gap-2">
              <p-checkbox
                [(ngModel)]="rememberMe"
                name="rememberMe"
                inputId="rememberMe"
                [binary]="true"
                styleClass="scale-90"
              >
              </p-checkbox>
              <label
                for="rememberMe"
                class="text-sm text-surface-600 cursor-pointer select-none"
                >Remember me</label
              >
            </div>

            <a
              routerLink="/forgot-password"
              class="text-xs font-bold text-primary-600 hover:text-primary-700 transition-colors"
            >
              Forgot Password?
            </a>
          </div>

          <button
            pRipple
            class="w-full py-3.5 rounded-xl bg-surface-900 text-white font-bold text-sm shadow-lg shadow-surface-900/20 hover:bg-surface-800 hover:shadow-xl hover:-translate-y-0.5 active:translate-y-0 transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"
            [disabled]="!username || !password || loading"
            type="submit"
          >
            @if (loading) {
            <i class="pi pi-spin pi-spinner"></i>
            } @if (!loading) {
            <span>Sign In</span>
            }
          </button>
        </form>

        <!-- 错误提示消息 -->
        @if (loginError) {
        <div
          class="mt-4 p-3 rounded-xl bg-red-50 border border-red-100 flex items-center gap-3 animate-fade-in-down"
        >
          <i class="pi pi-exclamation-circle text-red-500"></i>
          <span class="text-sm text-red-600 font-medium">{{
            errorMessage
          }}</span>
        </div>
        }
      </div>
    </div>
  </main>

  <!-- 使用简化版页脚组件 -->
  <app-simple-footer></app-simple-footer>
</div>
