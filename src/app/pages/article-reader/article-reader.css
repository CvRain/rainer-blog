/* 全局背景 */
:host .article-reader-background {
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

/* 文章容器 */
.article-container {
  position: relative;
  z-index: 10;
}

/* 为页面中所有的p-card应用毛玻璃效果 */
:host ::ng-deep .p-card {
  /* 使用rgba设置半透明背景 */
  background: rgba(var(--card-bg-rgb), 0.65) !important;
  /* 应用背景模糊和饱和度滤镜 */
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  /* 移除默认的盒子阴影，使用边框代替 */
  box-shadow: none !important;
  border-radius: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* 确保p-card的内容区域也是透明的，以便透出背景 */
:host ::ng-deep .p-card .p-card-body {
  background: transparent;
}
:host ::ng-deep .p-card .p-card-content {
  background: transparent;
}

/* 亮色主题下的卡片背景RGB变量 */
:host {
  --card-bg-rgb: 255, 255, 255;
}

/* 暗色主题下的卡片背景RGB变量 */
html.dark :host {
  --card-bg-rgb: 49, 50, 68; /* Catppuccin Macchiato Base */
}

/* 文章标题 */
.article-title {
  color: var(--p-text-color);
}

/* 文章元信息 */
.article-meta {
  color: var(--p-text-secondary-color);
}

/* 模糊的固定背景层 */
.fixed-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  /* 应用高斯模糊 */
  filter: blur(8px);
  /* 稍微放大以避免模糊产生的边缘问题 */
  transform: scale(1.1);
  /* 确保背景在最底层 */
  z-index: -1;
}

/* 文章容器 */
.article-container {
  position: relative;
  z-index: 10;
}

/* 恢复p-card的默认不透明背景 */
:host ::ng-deep .p-card {
  background: var(--p-content-background) !important;
  box-shadow: var(--p-card-shadow) !important;
}

/* 亮色主题下的卡片背景 */
:host {
  --p-content-background: #ffffff;
}

/* 暗色主题下的卡片背景 */
html.dark :host {
  --p-content-background: #1e1e2e; /* Catppuccin Mocha Base */
}

/* 文章标题 */
.article-title {
  color: var(--p-text-color);
}

/* 文章元信息 */
.article-meta {
  color: var(--p-text-secondary-color);
}
