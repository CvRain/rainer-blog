<div class="chapter-bar">
  @if (chapter() !== undefined) {
    <div class="dropdown-card">
      <div 
        class="dropdown-header" 
        (click)="toggleDropdown()"
        [attr.aria-expanded]="isOpen()"
      >
        <h3 class="chapter-title">{{chapter()!.name}}</h3>
        <svg 
          class="dropdown-icon" 
          [class.rotated]="isOpen()" 
          xmlns="http://www.w3.org/2000/svg" 
          width="20" 
          height="20" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
        >
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </div>
      
      <div class="dropdown-content" [class.open]="isOpen()">
        <ul class="article-list">
          @for (article of chapter()!.articles; track article.id) {
            <li class="article-item">
              <a class="article-link" (click)="onArticleSelect(article); $event.preventDefault()" href="">
                {{article.title}}
              </a>
            </li>
          }
        </ul>
      </div>
    </div>
  } @else {
    <div class="no-chapter">没有章节哦</div>
  }
</div>